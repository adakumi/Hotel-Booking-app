<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Miniver&family=Poppins:ital,wght@0,400;0,500;0,600;0,700;1,400&family=Satisfy&display=swap">

<!-- Navigation Bar -->
<nav class="navbar navbar-expand-lg navbar-dark custom-navbar py-3">
  <div class="container">
    <a class="navbar-brand d-flex align-items-center" href="#">
      <h2 class="logo-title mb-0 fs-2 fw-bold">Luxury Hotel</h2>
    </a>
    
    <button class="navbar-toggler custom-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
      <span class="navbar-toggler-icon"></span>
    </button>
   
    
    <div class="collapse navbar-collapse" id="navbarNav">
      <ul class="navbar-nav ms-auto">
        <li class="nav-item">
          <a class="nav-link custom-nav-link" href="#Hero">Home</a>
        </li>
        <li class="nav-item">
          <a class="nav-link custom-nav-link" href="#About">About Us</a>
        </li>
        <li class="nav-item">
          <a class="nav-link custom-nav-link" href="#amenities">Amenities</a>
        </li>
        <li class="nav-item">
          <a class="nav-link custom-nav-link" href="#contact">Contact</a>
        </li>
      </ul>
    </div>
  </div>
</nav>

<!-- Rooms Hero Section -->
<section id="room" class="rooms-hero-section custom-hero text-white py-5">
  <div class="container">
    <div class="row align-items-center min-vh-50">
      <div class="col-12 text-center">
        <div class="mb-5 animate-slide-down">
          <h1 class="display-3 fw-bold mb-3 custom-title">Our Luxury Rooms</h1>
          <p class="lead fs-3 custom-subtitle">Experience unparalleled comfort in our exquisite accommodations</p>
        </div>
      </div>
    </div>
  </div> 
</section>

<!-- Rooms Content Section -->
<section class="rooms-content-section py-5 bg-light">
  <div class="container">
    <!-- Loading State -->
    @if (loading) {
      <div class="row">
        <div class="col-12 text-center">
          <div class="spinner-border text-primary" style="width: 3rem; height: 3rem;" role="status">
            <span class="visually-hidden">Loading...</span>
          </div>
          <p class="mt-3 text-muted">Loading available rooms...</p>
        </div>
      </div>
    }

    <!-- Two Column Layout for Rooms Grid -->
    @if (!loading) {
      <div class="row">
        <!-- Left Column -->
        <div class="col-lg-6">
          <div class="rooms-column">
            @for (room of leftColumnRooms; track room.id) {
              <div class="room-item mb-4 animate-slide-up" [style.animation-delay]="($index * 0.1) + 's'">
                <app-room-card 
                  [room]="room" 
                  (bookRoom)="onBookRoom($event)">
                </app-room-card>
              </div>
            }
          </div>
        </div>

        <!-- Right Column -->
        <div class="col-lg-6">
          <div class="rooms-column">
            @for (room of rightColumnRooms; track room.id) {
              <div class="room-item mb-4 animate-slide-up" [style.animation-delay]="($index * 0.1) + 's'">
                <app-room-card 
                  [room]="room" 
                  (bookRoom)="onBookRoom($event)">
                </app-room-card>
              </div>
            }
          </div>
        </div>
      </div>
    }

    <!-- No Rooms Message -->
    @if (!loading && rooms.length === 0) {
      <div class="row">
        <div class="col-12 text-center">
          <div class="alert alert-warning custom-alert">
            <h4 class="custom-alert-title">No rooms available</h4>
            <p class="mb-0 custom-alert-text">Please check back later for availability or contact us for assistance.</p>
            <button class="btn btn-primary mt-3" routerLink="/">Return to Home</button>
          </div>
        </div>
      </div>
    }

    <!-- Additional Info Section -->
    <div class="row mt-5">
      <div class="col-12 text-center">
        <div class="rooms-additional-info animate-fade-in">
          <h3 class="mb-4 custom-section-title">Need Help Choosing?</h3>
          <p class="lead text-muted mb-4">Our concierge team is available 24/7 to help you select the perfect room for your stay.</p>
          <div class="d-flex gap-3 justify-content-center flex-wrap">
       <button class="btn custom-btn-primary" (click)="scrollToContact()">  
              <i class="fas me-2"></i>Contact Concierge
            </button>
            <button class="btn custom-btn-secondary" routerLink="/">
              <i class="fas me-2"></i>View Hotel Amenities
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>
  <button (click)="resetAllData()" class="btn btn-warning">Reset Data</button>

</section>

<!-- Booking Modal -->
<app-booking-modal
  [room]="selectedRoom"
  [visible]="showModal"
  (visibleChange)="showModal = $event"
  (bookingConfirmed)="onBookingConfirmed($event)">
</app-booking-modal>

<!-- Toast Notification -->
<div class="toast-container position-fixed top-0 end-0 p-3">
  <div class="toast align-items-center text-white {{ getToastClass() }} border-0 custom-toast" 
       [class.show]="showToast" role="alert" aria-live="assertive" aria-atomic="true">
    <div class="d-flex">
      <div class="toast-body">
        @if (toastType === 'success') {
          <i class="fas me-2"></i>
        }
        @if (toastType === 'error') {
          <i class="fas me-2"></i>
        }
        {{ toastMessage }}
      </div>
      <button type="button" class="btn-close btn-close-white me-2 m-auto" 
              (click)="showToast = false"></button>
    </div>
  </div>
</div>